# Assumes that you are running from this directory.
#
# ansible-playbook -i "localhost," -c local -K config.yml
#
---
- hosts: all
  roles:
      - { role: neovim }
      - { role: neovim_plugins }
      - { role: hub }
  tasks:
    - name: Run config script
      command: python ~/config/setup.py

    - name: Install handy APT packages
      apt:
        name={{ item }}
        state=present
      with_items:
        - ccache
        - build-essential
        - ipython
        - python-scipy
        - python-matplotlib
        - scons
        - vim-nox
        - mercurial
        - git
        - subversion
        - openssh-server
        - cmake
        - python-setuptools
        - tmux
        - ruby-dev
        - xclip
        - cmake
        - python-dev
      become: yes

    - name: Disable apport (Ubuntu bug notification service)
      lineinfile:
        dest: /etc/default/apport
        regexp: '^enabled='
        line: 'enabled=0'
      become: yes
